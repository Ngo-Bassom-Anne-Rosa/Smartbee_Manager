/* /pages/dashboard/dashboard.scss */
@import '../../../styles.scss';

.dashboard-header {
  margin-bottom: 25px;
  h1 {
    font-weight: 700;
    color: $black;
  }
  .subtitle {
    color: $dark-grey;
    font-size: 1rem;
  }
}


.kpi-grid {
  display: grid;
  // 4 colonnes sur grand écran
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin-bottom: 25px;
}


.main-content-grid {
  display: flex;
  gap: 20px;
  // Sur grand écran : 60% pour la carte, 40% pour les graphiques
  .map-and-list-container {
    flex: 3;
    display: flex;
    flex-direction: column;
    min-height: 700px; // Pour donner de l'espace à la carte
  }

  .chart-and-alerts-container {
    flex: 2;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
}

.map-view {
  height: 400px; /* Hauteur de la carte */
  margin-top: 15px;
  border-radius: 8px;
  overflow: hidden;
}

.list-title {
  margin-top: 20px;
  margin-bottom: 5px;
}


.alerts-card {
  padding: 15px;
  .alert-item {
    margin-top: 15px;
    padding: 10px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    p {
      margin: 0;
      font-size: 0.9rem;
    }
  }
}

.alert-danger { background-color: #FEEEEE; border-left: 5px solid #F44336; }
.alert-warning { background-color: #FFF8E1; border-left: 5px solid $yellow; }
.btn {
  padding: 5px 10px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  background-color: $black;
  color: $white;
  font-size: 0.8rem;
}


@media (max-width: 1200px) {
  .kpi-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur tablette */
  }
  .main-content-grid {
    flex-direction: column; /* Empilement vertical */
  }
  .map-view {
    height: 300px; /* Réduire la hauteur de la carte sur mobile */
  }
}

@media (max-width: 600px) {
  .kpi-grid {
    grid-template-columns: 1fr; /* 1 colonne sur mobile */
  }
  .dashboard-header {
    padding: 0 10px;
  }
  .card {
    padding: 15px;
  }
}

/* src/app/pages/dashboard/dashboard.scss */
.dashboard-root {
  padding: 18px;

  .dash-header {
    display:flex;
    justify-content: space-between;
    align-items: center;
    gap: 16px;
    margin-bottom: 14px;

    .title-block { h1 { margin: 0; color: $black; } .subtitle { margin:0; color: darken($black, 30%); font-size: 0.9rem; } }

    .mini-stats {
      display:flex;
      gap:12px;
      .stat-card {
        background: linear-gradient(180deg, $white, #fff9e6);
        border-radius: 12px;
        padding: 10px 14px;
        box-shadow: 0 6px 18px rgba(17,17,17,0.06);
        .stat-value { font-weight: 700; font-size: 1.2rem; color: $black; }
        .stat-label { font-size: 0.8rem; color: #555; }
      }
    }
  }

  .dash-main {
    display:grid;
    grid-template-columns: 1fr 380px;
    gap: 16px;

    .card {
      background: $white;
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 6px 18px rgba(17,17,17,0.06);
    }

    .map-panel {
      height: calc(100vh - 170px);
      min-height: 480px;
      #map { width: 100%; height: 100%; border-radius: 8px; overflow: hidden; }
    }

    .right-panel {
      display:flex;
      flex-direction: column;
      gap: 12px;
      .chart-card { height: 260px; }
      .alerts-card ul, .quick-list ul { margin: 0; padding-left: 16px; color: #333; }
    }
  }
}

/* bee marker style */
.leaflet-container .bee-marker .bee-icon {
  width: 34px; height: 34px;
  display:flex; align-items:center; justify-content:center;
  font-size: 18px; border-radius:50%;
  background: linear-gradient(180deg, $yellow, #e6b800);
  box-shadow: 0 3px 8px rgba(0,0,0,0.25);
  border: 2px solid rgba(255,255,255,0.9);
}

/* popup style */
.leaflet-popup-content .popup-brief { font-size: 0.95rem; color: $black; }
.leaflet-popup-content a.popup-link { color: darken($yellow, 10%); text-decoration: none; }

/* responsive */
@media (max-width: 900px) {
  .dashboard-root .dash-main {
    grid-template-columns: 1fr;
  }
  .dashboard-root .dash-main .map-panel { min-height: 320px; height: 48vh; }
}

